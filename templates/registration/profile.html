{% extends "base.html" %}

{% block title %}{{ user.first_name|capfirst }}'s Profile{% endblock title %}

{% block content %}
{% include "navbar.html" %}
<div class="bg-white p-10 rounded-lg shadow-lg">
    <h2 class="text-3xl font-semibold text-blue-600 text-center">Profile</h2>


    <div class="d-flex p-2" style="justify-content: space-evenly;">
        <form action="{% url 'profile' %}" method="post" class="mt-6 space-y-4" enctype="multipart/form-data"
            style="min-width: 40%;">
            <p class="text-xl font-semibold text-blue-600 mt-2">Personal information</p>
            {% csrf_token %}

            <div class="mb-3">
                <label class="block mb-2">Username</label>
                <input type="text" name="{{ form.username.name }}" id="{{ form.username.id_for_label }}"
                    value="{{ user.username }}"
                    class="w-full p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                {% if form.username.errors %}
                <p class="text-red-500 text-sm">{{ form.username.errors.0 }}</p>
                {% endif %}
            </div>

            <div class="mb-3">
                <label class="block mb-2">First Name</label>
                <input type="text" name="{{ form.first_name.name }}" id="{{ form.first_name.id_for_label }}"
                    value="{{ user.first_name }}"
                    class="w-full p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                {% if form.first_name.errors %}
                <p class="text-red-500 text-sm">{{ form.first_name.errors.0 }}</p>
                {% endif %}
            </div>

            <div class="mb-3">
                <label class="block mb-2">Last Name</label>
                <input type="text" name="{{ form.last_name.name }}" id="{{ form.last_name.id_for_label }}"
                    value="{{ user.last_name }}"
                    class="w-full p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                {% if form.last_name.errors %}
                <p class="text-red-500 text-sm">{{ form.last_name.errors.0 }}</p>
                {% endif %}
            </div>

            <div class="mb-3">
                <label class="block mb-2">Email</label>
                <input type="text" name="{{ form.email.name }}" id="{{ form.email.id_for_label }}"
                    value="{{ user.email }}"
                    class="w-full p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                {% if form.email.errors %}
                <p class="text-red-500 text-sm">{{ form.email.errors.0 }}</p>
                {% endif %}
            </div>

            <div class="mt-6">
                <button type="submit"
                    class="w-full text-center bg-blue-600 text-white py-2 rounded font-semibold hover:bg-blue-700">
                    Save Changes
                </button>
            </div>
        </form>
        <!-- Security and Statistics Section -->
        <div class="bg-white p-10 gap-8" style="min-width: 35%;">
            <!-- Security Section -->
            <div>
                <h3 class="text-xl font-semibold text-blue-600">Security</h3>
                <p class="text-gray-600">Manage your account security settings</p>
                <a href="{% url 'password_reset' %}"
                    class="mt-2 inline-block text-blue-600 font-semibold hover:underline">
                    Reset Password
                </a>
            </div>

            <!-- Statistics Section -->
            <div>
                <hr class="mt-4">
                <h3 class="text-xl font-semibold text-blue-600">Statistics</h3>
                <p class="text-gray-700">Account Information</p>
                <ul class="mt-2 text-gray-600">
                    <li><strong>Date Joined:</strong> {{ user.date_joined }}</li>
                    <li><strong>Last Login:</strong> {{ user.last_login }}</li>
                </ul>
            </div>
        </div>
    </div>
</div>

{% endblock content %}